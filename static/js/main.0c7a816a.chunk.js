(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__23y4J",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__3r_Zq"}},13:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__3eT3Q"}},14:function(e,t,a){e.exports={Button:"Button_Button__rzOxR"}},16:function(e,t,a){e.exports={loader:"Loader_loader__3Kbky"}},21:function(e,t,a){},22:function(e,t,a){},4:function(e,t,a){e.exports={SearchBar:"SearchBar_SearchBar__3WA7r",SearchForm:"SearchBar_SearchForm__4G5iN",SearchFormButton:"SearchBar_SearchFormButton__3Uyns",SearchFormButtonLabel:"SearchBar_SearchFormButtonLabel__1rXbi",SearchFormInput:"SearchBar_SearchFormInput__31rpj"}},46:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(3),c=a.n(o),l=(a(21),a(11)),i=a(5),s=(a(22),a(4)),u=a.n(s),m=a(1);function h(e){var t=e.onSubmit;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("header",{className:u.a.SearchBar,children:Object(m.jsxs)("form",{className:u.a.SearchForm,onSubmit:function(e){e.preventDefault(),""!==e.target.lastChild.value.trim()&&t(e.target.lastChild.value.toLowerCase())},children:[Object(m.jsx)("button",{type:"submit",className:u.a.SearchFormButton,children:Object(m.jsx)("span",{className:u.a.SearchFormButtonLabel,children:"Search"})}),Object(m.jsx)("input",{className:u.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})})}var j=a(10),b=a.n(j);function d(e){var t=e.image,a=e.onImgClick,n=t.id,r=t.webformatURL,o=t.largeImageURL;return Object(m.jsx)("li",{className:b.a.ImageGalleryItem,children:Object(m.jsx)("img",{onClick:function(){a(o)},src:r,alt:"images",className:b.a.ImageGalleryItemImage,"data-sours":o})},n)}var f=a(13),g=a.n(f);function O(e){var t=e.images,a=e.onImgClick;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("ul",{className:g.a.ImageGallery,children:t.map((function(e){return Object(m.jsx)(d,{image:e,onImgClick:a},e.id)}))})})}var p=a(14),_=a.n(p);function y(e){var t=e.onLoadMore;return Object(m.jsx)("button",{className:_.a.Button,type:"button",onClick:function(){return t()},children:"Load more"})}var v=a(15),x=a.n(v),I=(a(44),a(16)),S=a.n(I);function w(){return Object(m.jsx)(x.a,{className:S.a.loader,type:"ThreeDots",color:"#00BFFF",height:80,width:80,timeout:3e3})}var F,B,C=a(7),k=a.n(C),L=["title","titleId"];function M(){return M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},M.apply(this,arguments)}function G(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function N(e,t){var a=e.title,r=e.titleId,o=G(e,L);return n.createElement("svg",M({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",ref:t,"aria-labelledby":r},o),a?n.createElement("title",{id:r},a):null,F||(F=n.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),B||(B=n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})))}var E=n.forwardRef(N),P=(a.p,document.querySelector("#modal-root"));function T(e){var t=e.src,a=e.onCloseModal,n=e.handleOverlay;return Object(o.createPortal)(Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:k.a.Overlay,onClick:n,children:Object(m.jsxs)("div",{className:k.a.Modal,children:[Object(m.jsx)("img",{src:t,alt:"",width:"1200px",height:"800px"}),Object(m.jsx)("button",{className:k.a.closeModal,type:"button",onClick:function(){return a()},children:Object(m.jsx)(E,{className:k.a.CloseLogo})})]})})}),P)}var z=a(12);a(45);function R(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(!1),c=Object(i.a)(o,2),s=c[0],u=c[1],j=Object(n.useState)(""),b=Object(i.a)(j,2),d=b[0],f=b[1],g=Object(n.useState)(1),p=Object(i.a)(g,2),_=p[0],v=p[1],x=Object(n.useState)(null),I=Object(i.a)(x,2),S=I[0],F=I[1],B=function(){F(null)},C=function(){u(!0),function(e,t){var a="https://pixabay.com/api/?q=".concat(t,"&page=").concat(e,"&key=22945587-13dcce98a35cac559e6949163&image_type=photo&orientation=horizontal&per_page=12");return fetch(a).then((function(e){return e.json()}))}(_,d).then((function(e){0===e.hits.length&&Object(z.b)("\u0423\u0442\u043e\u0447\u043d\u0438\u0442\u0435 \u043a\u0440\u0438\u0442\u0435\u0440\u0438\u0438 \u043f\u043e\u0438\u0441\u043a\u0430!"),r((function(t){return[].concat(Object(l.a)(t),Object(l.a)(e.hits))}))})).catch((function(e){return console.log(e)})).finally((function(){return u(!1)}))};Object(n.useEffect)((function(){""!==d&&C()}),[d,_]),Object(n.useEffect)((function(){_>1&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}),[a]);var k=function(e){"Escape"===e.code&&B()};Object(n.useEffect)((function(){window.addEventListener("keydown",k)}),[]),Object(n.useEffect)((function(){return function(){window.addEventListener("keydown",k)}}),[]);return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(h,{onSubmit:function(e){d!==e&&(r([]),v(1),f(e))}}),Object(m.jsx)(O,{images:a,onImgClick:function(e){F(e)}}),s&&Object(m.jsx)(w,{}),a.length>0&&Object(m.jsx)(y,{onLoadMore:function(){v((function(e){return e+1}))}}),Object(m.jsx)(z.a,{autoClose:3e3}),S&&Object(m.jsx)(T,{src:S,onCloseModal:B,handleOverlay:function(e){e.currentTarget===e.target&&B()}})]})}var q=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,47)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,o=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),o(e),c(e)}))};c.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(R,{})}),document.getElementById("root")),q()},7:function(e,t,a){e.exports={Overlay:"Modal_Overlay__1ZQzt",Modal:"Modal_Modal__1ve3l",closeModal:"Modal_closeModal__2pGjk",CloseLogo:"Modal_CloseLogo__26GC1"}}},[[46,1,2]]]);
//# sourceMappingURL=main.0c7a816a.chunk.js.map