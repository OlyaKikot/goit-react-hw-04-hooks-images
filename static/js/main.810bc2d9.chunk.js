(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__23y4J",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__3r_Zq"}},13:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__3eT3Q"}},14:function(e,t,a){e.exports={Button:"Button_Button__rzOxR"}},16:function(e,t,a){e.exports={loader:"Loader_loader__3Kbky"}},21:function(e,t,a){},22:function(e,t,a){},4:function(e,t,a){e.exports={SearchBar:"SearchBar_SearchBar__3WA7r",SearchForm:"SearchBar_SearchForm__4G5iN",SearchFormButton:"SearchBar_SearchFormButton__3Uyns",SearchFormButtonLabel:"SearchBar_SearchFormButtonLabel__1rXbi",SearchFormInput:"SearchBar_SearchFormInput__31rpj"}},46:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(3),c=a.n(r),l=(a(21),a(11)),s=a(5),u=(a(22),a(4)),i=a.n(u),m=a(1);function h(e){var t=e.onSubmit;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("header",{className:i.a.SearchBar,children:Object(m.jsxs)("form",{className:i.a.SearchForm,onSubmit:function(e){e.preventDefault(),""!==e.target.lastChild.value.trim()&&t(e.target.lastChild.value.toLowerCase())},children:[Object(m.jsx)("button",{type:"submit",className:i.a.SearchFormButton,children:Object(m.jsx)("span",{className:i.a.SearchFormButtonLabel,children:"Search"})}),Object(m.jsx)("input",{className:i.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})})}var j=a(10),d=a.n(j);function b(e){var t=e.image,a=e.onImgClick,n=t.id,o=t.webformatURL,r=t.largeImageURL;return Object(m.jsx)("li",{className:d.a.ImageGalleryItem,children:Object(m.jsx)("img",{onClick:function(){a(r)},src:o,alt:"images",className:d.a.ImageGalleryItemImage,"data-sours":r})},n)}var f=a(13),g=a.n(f);function O(e){var t=e.images,a=e.onImgClick;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("ul",{className:g.a.ImageGallery,children:t.map((function(e){return Object(m.jsx)(b,{image:e,onImgClick:a},e.id)}))})})}var _=a(14),p=a.n(_);function I(e){var t=e.onLoadMore;return Object(m.jsx)("button",{className:p.a.Button,type:"button",onClick:function(){return t()},children:"Load more"})}var S=a(15),y=a.n(S),x=(a(44),a(16)),v=a.n(x);function F(){return Object(m.jsx)(y.a,{className:v.a.loader,type:"ThreeDots",color:"#00BFFF",height:80,width:80,timeout:3e3})}var B=a(7),C=a.n(B);a.p;var L=document.querySelector("#modal-root");function k(e){e.src,e.onCloseModal,e.handleOverlay;return C.a.Overlay,C.a.Modal,C.a.closeModal,C.a.CloseLogo,L}var w=a(12);a(45);function G(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],o=t[1],r=Object(n.useState)(!1),c=Object(s.a)(r,2),u=c[0],i=c[1],j=Object(n.useState)(""),d=Object(s.a)(j,2),b=d[0],f=d[1],g=Object(n.useState)(1),_=Object(s.a)(g,2),p=_[0],S=_[1],y=Object(n.useState)(null),x=Object(s.a)(y,2),v=x[0],B=x[1],C=function(){B(null)},L=function(){i(!0),function(e,t){var a="https://pixabay.com/api/?q=".concat(t,"&page=").concat(e,"&key=22945587-13dcce98a35cac559e6949163&image_type=photo&orientation=horizontal&per_page=12");return fetch(a).then((function(e){return e.json()}))}(p,b).then((function(e){0===e.hits.length&&Object(w.b)("\u0423\u0442\u043e\u0447\u043d\u0438\u0442\u0435 \u043a\u0440\u0438\u0442\u0435\u0440\u0438\u0438 \u043f\u043e\u0438\u0441\u043a\u0430!"),o((function(t){return[].concat(Object(l.a)(t),Object(l.a)(e.hits))}))})).catch((function(e){return console.log(e)})).finally((function(){return i(!1)}))};Object(n.useEffect)((function(){""!==b&&L()}),[b,p]),Object(n.useEffect)((function(){p>1&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}));var G=function(e){"Escape"===e.code&&C()};Object(n.useEffect)((function(){window.addEventListener("keydown",G)}),[]),Object(n.useEffect)((function(){return window.addEventListener("keydown",G)}),[]);return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(h,{onSubmit:function(e){b!==e&&(o([]),S(1),f(e))}}),Object(m.jsx)(O,{images:a,onImgClick:function(e){B(e)}}),u&&Object(m.jsx)(F,{}),a.length>0&&Object(m.jsx)(I,{onLoadMore:function(){S((function(e){return e+1}))}}),Object(m.jsx)(w.a,{autoClose:3e3}),v&&Object(m.jsx)(k,{src:v,onCloseModal:C,handleOverlay:function(e){e.currentTarget===e.target&&C()}})]})}var M=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,47)).then((function(t){var a=t.getCLS,n=t.getFID,o=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),n(e),o(e),r(e),c(e)}))};c.a.render(Object(m.jsx)(o.a.StrictMode,{children:Object(m.jsx)(G,{})}),document.getElementById("root")),M()},7:function(e,t,a){e.exports={Overlay:"Modal_Overlay__1ZQzt",Modal:"Modal_Modal__1ve3l",closeModal:"Modal_closeModal__2pGjk",CloseLogo:"Modal_CloseLogo__26GC1"}}},[[46,1,2]]]);
//# sourceMappingURL=main.810bc2d9.chunk.js.map